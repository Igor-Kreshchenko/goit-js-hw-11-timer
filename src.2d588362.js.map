{"version":3,"sources":["js/timer.js","index.js"],"names":["CountdownTimer","selector","targetDate","onTick","refs","daysRef","document","querySelector","hoursRef","minsRef","secsRef","start","updateValues","setInterval","bind","currentTime","Date","now","deltaTime","getTimeComponents","days","hours","mins","secs","time","pad","Math","floor","value","String","padStart","updateTimerFace","textContent","countdownTimer"],"mappings":";;;AAsDA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAtDMA,IAAAA,EAAAA,WAC0C,SAAA,EAAA,GAAhCC,IAAAA,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,WAAYC,EAAAA,EAAAA,OAAU,EAAA,KAAA,GACvCF,KAAAA,SAAWA,EACXC,KAAAA,WAAaA,EACbC,KAAAA,OAASA,EACTC,KAAAA,KAAO,CACVC,QAASC,SAASC,cAAiB,GAAA,OAAA,KAAKN,SAD9B,yBAEVO,SAAUF,SAASC,cAAiB,GAAA,OAAA,KAAKN,SAF/B,0BAGVQ,QAASH,SAASC,cAAiB,GAAA,OAAA,KAAKN,SAH9B,yBAIVS,QAASJ,SAASC,cAAiB,GAAA,OAAA,KAAKN,SAA/B,0BAGNU,KAAAA,QA0CT,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,QAvCE,MAAA,WAEOC,KAAAA,eACLC,YAAY,KAAKD,aAAaE,KAAK,MAAO,OAoC9C,CAAA,IAAA,eAjCE,MAAA,WACQC,IAAAA,EAAcC,KAAKC,MACnBC,EAAY,KAAKhB,WAAaa,EACA,EAAA,KAAKI,kBAAkBD,GAAnDE,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,KAEtBpB,KAAAA,OAAO,CAAEiB,KAAAA,EAAMC,MAAAA,EAAOC,KAAAA,EAAMC,KAAAA,MA4BrC,CAAA,IAAA,oBAzBE,MAAA,SAAkBC,GAQT,MAAA,CAAEJ,KAPI,KAAKK,IAAIC,KAAKC,MAAMH,EAAQ,QAO1BH,MAND,KAAKI,IACjBC,KAAKC,MAAOH,EAAQ,MAAyB,OAKzBF,KAHT,KAAKG,IAAIC,KAAKC,MAAOH,EAAQ,KAAoB,MAGlCD,KAFf,KAAKE,IAAIC,KAAKC,MAAOH,EAAQ,IAAc,SAmB5D,CAAA,IAAA,MAdE,MAAA,SAAII,GACKC,OAAAA,OAAOD,GAAOE,SAAS,EAAG,SAarC,EAtDM9B,GA6CN,SAAS+B,EAA6C,GAA3BX,IAAAA,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,KACvCnB,KAAAA,KAAKC,QAAQ2B,YAAcZ,EAC3BhB,KAAAA,KAAKI,SAASwB,YAAcX,EAC5BjB,KAAAA,KAAKK,QAAQuB,YAAcV,EAC3BlB,KAAAA,KAAKM,QAAQsB,YAAcT,EAKlC,IAAMU,EAAiB,IAAIjC,EAAe,CACxCC,SAAU,WACVC,WAAY,IAAIc,KAAK,eACrBb,OAAQ4B;;ACxDV,aADA,QAAA,gBACA,QAAA","file":"src.2d588362.js","sourceRoot":"..\\src","sourcesContent":["class CountdownTimer {\r\n  constructor({ selector, targetDate, onTick }) {\r\n    this.selector = selector;\r\n    this.targetDate = targetDate;\r\n    this.onTick = onTick;\r\n    this.refs = {\r\n      daysRef: document.querySelector(`${this.selector} [data-value=\"days\"]`),\r\n      hoursRef: document.querySelector(`${this.selector} [data-value=\"hours\"]`),\r\n      minsRef: document.querySelector(`${this.selector} [data-value=\"mins\"]`),\r\n      secsRef: document.querySelector(`${this.selector} [data-value=\"secs\"]`),\r\n    };\r\n\r\n    this.start();\r\n  }\r\n\r\n  start() {\r\n    //   Без следующей строки при запуске таймера 1 секунду отображаются значения из разметки\r\n    this.updateValues();\r\n    setInterval(this.updateValues.bind(this), 1000);\r\n  }\r\n\r\n  updateValues() {\r\n    const currentTime = Date.now();\r\n    const deltaTime = this.targetDate - currentTime;\r\n    const { days, hours, mins, secs } = this.getTimeComponents(deltaTime);\r\n\r\n    this.onTick({ days, hours, mins, secs });\r\n  }\r\n\r\n  getTimeComponents(time) {\r\n    const days = this.pad(Math.floor(time / (1000 * 60 * 60 * 24)));\r\n    const hours = this.pad(\r\n      Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\r\n    );\r\n    const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\r\n    const secs = this.pad(Math.floor((time % (1000 * 60)) / 1000));\r\n\r\n    return { days, hours, mins, secs };\r\n  }\r\n\r\n  pad(value) {\r\n    return String(value).padStart(2, '0');\r\n  }\r\n}\r\n\r\nfunction updateTimerFace({ days, hours, mins, secs }) {\r\n  this.refs.daysRef.textContent = days;\r\n  this.refs.hoursRef.textContent = hours;\r\n  this.refs.minsRef.textContent = mins;\r\n  this.refs.secsRef.textContent = secs;\r\n}\r\n\r\n// Вызов экземпляра класса Timer\r\n\r\nconst countdownTimer = new CountdownTimer({\r\n  selector: '#timer-1',\r\n  targetDate: new Date('Jan 1, 2022'),\r\n  onTick: updateTimerFace,\r\n});\r\n","import './css/styles';\r\nimport './js/timer';\r\n"]}